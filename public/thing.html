<html>
<head>
  <script data-turbolocks-track="false" src="/assets/application.js"></script>
  <script data-turbolocks-track="false" src="/assets/drawing.js"></script>
  <script data-turbolocks-track="false" src="/assets/guy.js"></script>
</head>
<body>
<style>
ellipse, path {
  fill: none;
  stroke-width: 4;
  stroke: #878787;
}

.foot, .hand, .head {
  stroke-width: 4;
  fill: #575757;
}
.eye {
  stroke-width: 1;
  stroke: #aaa;
  fill: #fff;
}
#jsvg {
  background: #575757; 
}
</style>
<!-- TODO: I want to create the svg, and a g, and jsvg from within there -->
<div id="jsvg" style="height:580px; display:relative">
</div>

<script>
var jsvg = SVG('jsvg')
var g = new Guy(jsvg).animate();


$(function() {
  console.debug("binding keydown")
  $(document).keydown(function(e){
      // if (e.which == $.ui.keyCode.DOWN)
      if (e.which == 37) {  //left
        g.delta(-30, 0);
        e.preventDefault();
      } else if (e.which == 38) {  //up
        g.delta(0, -30);
        e.preventDefault();
      } else if (e.which == 39) { //right
        g.delta(30, 0);
        e.preventDefault();
      } else if (e.which == 40) {  //down
        g.delta(0, 30);
        e.preventDefault();
      }
  });
})
</script>
